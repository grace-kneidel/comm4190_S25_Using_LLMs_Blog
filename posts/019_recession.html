<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.30">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Grace">
<meta name="dcterms.date" content="2025-05-07">
<meta name="description" content="Asking GenAI one of life’s more confusing questions">

<title>Are we in a recession? – Grace’s LLM Blog</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-de070a7b0ab54f8780927367ac907214.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-faa2b647def1732f781d0cf047a17803.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-fixed fullcontent quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Grace’s LLM Blog</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/grace-kneidel"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Are we in a recession?</h1>
                  <div>
        <div class="description">
          Asking GenAI one of life’s more confusing questions
        </div>
      </div>
                          <div class="quarto-categories">
                <div class="quarto-category">prompting</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Grace </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">May 7, 2025</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">





<section id="introduction" class="level4">
<h4 class="anchored" data-anchor-id="introduction">Introduction</h4>
<p>There is plenty in the news right now about the US economy. There was negative GDP growth in Q1 2025, and by the usual rule of thumb, two consecutive quarters of negative GDP growth means we are in a recession. However, recessions are only definitively declared by the National Bureau of Economic Research. All in all, the question “what is a recession” is more complex than one might imagine, even for those of us who studied economics. So, today I’m going to ask different LLMs what a recession is and see how it goes.</p>
</section>
<section id="gpt-4o" class="level4">
<h4 class="anchored" data-anchor-id="gpt-4o">Gpt-4o</h4>
<p>Hi, can you provide a 2 paragraph summary of what an economic recession is?</p>
<blockquote class="blockquote">
<p>An economic recession is a period of significant decline in economic activity across the economy, lasting more than a few months. This downturn is typically visible in key economic indicators such as gross domestic product (GDP), employment rates, industrial production, and retail sales. Technically, it is often defined as two consecutive quarters of negative GDP growth. During a recession, businesses may face decreased consumer demand, leading to reduced production, layoffs, and a rise in unemployment rates. As businesses cut back on investments and consumer spending diminishes, the overall economic environment can suffer further, perpetuating the cycle of decline.</p>
<p>The causes of a recession can vary and often include a combination of factors such as high-interest rates, reduced consumer confidence, financial crises, or external economic shocks like a sudden increase in oil prices. Governments and central banks typically respond to recessions through monetary and fiscal policy measures designed to stimulate economic activity. This could involve lowering interest rates, increasing public spending, or implementing tax cuts to encourage investment and consumption. While recessions are challenging periods that can result in financial hardship for many, they can also lead to necessary economic adjustments and pave the way for future growth once recovery begins.</p>
</blockquote>
<p>Ok, how do we know if we are in one?</p>
<blockquote class="blockquote">
<p>Identifying a recession involves analyzing several economic indicators to assess whether there is a sustained, widespread contraction in economic activity. One commonly accepted definition is two consecutive quarters of negative gross domestic product (GDP) growth. However, GDP is not the only measure used to determine a recession. Key indicators also include employment rates, industrial production, real income levels, and consumer spending. During a recession, these indicators typically show significant declines: unemployment rates rise, industrial output drops, income growth stalls or decreases, and consumer and business spending diminish. Organizations like the National Bureau of Economic Research (NBER) in the United States take a more comprehensive approach by looking at a variety of data points to officially declare a recession. They consider the depth, diffusion, and duration of the economic downturn. This means examining how deep the decline is, how broadly it affects different sectors of the economy, and how long it lasts. While real-time identification of a recession can be challenging due to delays in data reporting and analysis, observing trends in these key indicators can provide an early warning of potential economic contraction.</p>
</blockquote>
<p>Are we in one right now?</p>
<blockquote class="blockquote">
<p>As of my last update in October 2023, I don’t have real-time data to confirm the current economic status. Determining whether we are in a recession involves examining recent data on GDP growth, employment rates, industrial production, and other economic indicators. Typically, national statistical agencies and research organizations, like the National Bureau of Economic Research in the United States, analyze these data points to officially declare a recession.</p>
<p>To get an accurate and up-to-date assessment, you would need to review reports from credible financial news sources, economic research organizations, or government publications that provide recent economic data and analysis. These sources would offer insights into the latest economic conditions and whether the criteria for a recession are currently being met.</p>
</blockquote>
<p>Ok, I looked online and we have one quarter of negative GDP growth.</p>
<blockquote class="blockquote">
<p>If there is one quarter of negative GDP growth, it is noteworthy but not definitive enough to declare a recession. Recessions are typically characterized by two consecutive quarters of negative GDP growth, along with other indicators such as rising unemployment, declining industrial production, reduced consumer spending, and falling real income. Having only one quarter of negative growth could indicate a temporary slowdown, possibly due to specific events or short-term factors, rather than a more prolonged and widespread economic contraction. It’s important to continue monitoring economic indicators and market conditions to understand if the slowdown extends into a second quarter or if there are other signs of economic distress. Policymakers and economic analysts will be closely watching these developments to assess whether current conditions evolve into a recession. Keeping an eye on updates from reputable economic and financial news sources will provide further insights into whether the downturn persists and develops into a recession.</p>
</blockquote>
<p>What should I do now, given we have one quarter of negative GDP growth?</p>
<blockquote class="blockquote">
<p>If you’re concerned about the possibility of an economic downturn after one quarter of negative GDP growth, here are some steps you can consider to better prepare financially and personally:</p>
<p>Review Your Finances: Take a close look at your financial situation. Assess your income, expenses, and any existing debts. Ensuring that you have a clear understanding of your cash flow can help you make informed decisions.</p>
<p>Build or Strengthen an Emergency Fund: If possible, increase your savings to prepare for potential financial uncertainties. An emergency fund can provide a cushion to cover expenses should your income be affected in the event of a recession.</p>
<p>Evaluate Investments: Review your investment portfolio to ensure it aligns with your risk tolerance and long-term goals. Consider diversifying your investments to spread risk. It might also be a good time to consult with a financial advisor for personalized advice.</p>
<p>Cut Unnecessary Expenses: Identifying and reducing discretionary spending can help to free up some cash. This might involve delaying large purchases or scaling back on non-essential services.</p>
<p>Enhance Job Security: Stay informed about developments in your industry and consider ways to increase your job security. This might involve improving your skills, taking on additional responsibilities, or networking to strengthen professional relationships.</p>
<p>Consider Additional Income Streams: If feasible, explore opportunities for side income. This could include freelance work, part-time jobs, or monetizing a hobby.</p>
<p>Stay Informed: Keep up with economic news and trends to understand how broader economic conditions might affect you. Awareness can help you make timely adjustments to your plans.</p>
<p>These general steps can help improve your financial resilience, regardless of whether a recession materializes. Individual situations can vary greatly, so it’s important to consider your specific circumstances when deciding on a course of action.</p>
</blockquote>
</section>
<section id="my-thoughts" class="level4">
<h4 class="anchored" data-anchor-id="my-thoughts">My thoughts</h4>
<p>No mention of the NBER in the initial description. I find it very funny that ChatGPT was able to find a silver lining of recessions- “While recessions are challenging periods that can result in financial hardship for many, they can also lead to necessary economic adjustments and pave the way for future growth once recovery begins.”. I wish I had asked it to elaborate on this point! I’m really not sure that I agree. I guess this might be the result of some finetuning to the effect of “have a balanced mindset”.</p>
<p>I’m glad I thought to ask it how to recession-proof my life.”Enhance job security” was one that I didn’t expect. The description makes sense, but I just thought the phrasing was funny.</p>
</section>
<section id="o1-mini" class="level4">
<h4 class="anchored" data-anchor-id="o1-mini">o1-mini</h4>
<p>Hi, can you provide a 2 paragraph summary of what an economic recession is?</p>
<blockquote class="blockquote">
<p>An economic recession is a significant decline in economic activity that lasts for an extended period, typically recognized when a country’s gross domestic product (GDP) contracts for two consecutive quarters. During a recession, various economic indicators such as employment rates, consumer spending, and industrial production tend to decrease. Businesses may experience lower profits, leading to cost-cutting measures like layoffs or reduced investment. This downturn can create a ripple effect across various sectors, exacerbating the slowdown as reduced consumer confidence leads to even less spending and investment.</p>
<p>Recessions can be triggered by a multitude of factors, including financial crises, external shocks (like a sudden increase in oil prices), or systemic issues within the economy such as excessive debt levels or asset bubbles. Governments and central banks often respond to recessions with monetary and fiscal policies aimed at stimulating growth, such as lowering interest rates, increasing public spending, or implementing tax cuts. The severity and duration of a recession can vary widely, influenced by the underlying causes and the effectiveness of policy responses. Understanding recessions is crucial for policymakers, businesses, and individuals to mitigate their impacts and support economic recovery.</p>
</blockquote>
<p>Ok, how do we know if we are in one?</p>
<blockquote class="blockquote">
<p>Determining whether an economy is in a recession involves analyzing a combination of key economic indicators. The most commonly cited benchmark is a decline in a country’s gross domestic product (GDP) for two consecutive quarters. However, GDP alone does not provide a complete picture. Economists also examine rising unemployment rates, decreased consumer and business spending, lower industrial production, and reduced income levels. A sustained drop in these indicators typically signals that economic activity is contracting. Additionally, changes in consumer confidence and investment levels are monitored, as declining confidence can lead to reduced spending and further economic slowdown.</p>
<p>Official assessments of recessions are often made by specialized organizations, such as the National Bureau of Economic Research (NBER) in the United States. These bodies consider a broader range of data, including employment statistics, real income, retail sales, and industrial output, to determine the onset and duration of a recession. It is important to note that there is usually a time lag in recognizing a recession because data is often analyzed retrospectively. Furthermore, leading economic indicators like stock market trends, building permits, and manufacturing orders can provide early warnings of an impending recession, allowing policymakers, businesses, and individuals to prepare accordingly. By evaluating a comprehensive set of metrics, analysts can more accurately identify whether an economy is experiencing a recession.</p>
</blockquote>
<p>Are we in one right now?</p>
<blockquote class="blockquote">
<p>As of my knowledge cutoff in October 2023, whether the global economy or specific countries like the United States are in a recession can vary based on the latest economic data and analyses. Officially declaring a recession typically involves assessments from authoritative bodies such as the National Bureau of Economic Research (NBER) in the U.S., which consider a range of indicators beyond just GDP contraction. As of late 2023, while some indicators like inflation rates, interest rates, and certain labor market metrics have shown signs of strain, there has not been a widespread official declaration of a recession in major economies like the U.S. However, economic conditions can quickly change, and various regions may experience different economic climates based on local factors.</p>
<p>It’s important to monitor the latest economic reports and statements from credible sources such as government economic departments, central banks, and reputable financial institutions for the most current information. Key indicators to watch include GDP growth rates, unemployment figures, consumer spending, business investment, and industrial production. Additionally, staying informed through reliable news outlets and economic analysis can provide insights into emerging trends that might signal the onset of a recession. If you’re seeking the most up-to-date assessment, I recommend consulting recent reports from organizations like the International Monetary Fund (IMF), World Bank, or your country’s economic research institutions.</p>
</blockquote>
<p>Ok, I looked online and we have one quarter of negative GDP growth.</p>
<blockquote class="blockquote">
<p>A single quarter of negative GDP growth indicates a slowdown in economic activity and can be a cause for concern, but it does not automatically mean that an economy is in a recession. The commonly used rule of thumb for identifying a recession is two consecutive quarters of negative GDP growth. However, this is a simplistic measure, and official declarations of a recession often consider a broader range of economic indicators beyond just GDP. These indicators include rising unemployment rates, declining consumer spending, reduced industrial production, and lower income levels. Therefore, while one quarter of negative GDP growth suggests that the economy is experiencing some contraction, it may not yet meet the full criteria for a recession.</p>
<p>It’s important to monitor additional economic data to gain a clearer picture of the economic health. If negative GDP growth continues into a second consecutive quarter, the likelihood of entering a recession increases. Additionally, other factors such as consumer confidence, business investment, and external economic pressures should be evaluated. Official bodies like the National Bureau of Economic Research (NBER) in the United States assess various metrics to determine the onset and duration of a recession. Keeping an eye on these broader indicators and official announcements will provide a more accurate assessment of whether the economy is entering or is already in a recession.</p>
</blockquote>
<p>What should I do now, given we have one quarter of negative GDP growth?</p>
<blockquote class="blockquote">
<p>Experiencing one quarter of negative GDP growth can understandably raise concerns about the economic outlook. While a single quarter of contraction doesn’t automatically signal a recession, it does suggest that the economy is slowing down. In response to this, it’s prudent to take proactive steps to safeguard your financial well-being and prepare for potential economic uncertainties. Here are several actions you might consider:</p>
<p>Review and Adjust Your Budget:</p>
<p>Assess Spending: Take a close look at your monthly expenses and identify areas where you can cut back. Prioritize essential expenses such as housing, utilities, groceries, and healthcare.</p>
<p>Reduce Debt: If you have high-interest debt, focus on paying it down to lessen financial burdens. Reducing debt can free up more of your income for savings and investments.</p>
<p>Increase Savings: Strengthen your emergency fund to cover three to six months’ worth of living expenses. This provides a safety net in case of job loss or other financial challenges.</p>
<p>Evaluate Your Investments:</p>
<p>Diversify Portfolio: Ensure that your investment portfolio is well-diversified across different asset classes (stocks, bonds, real estate, etc.) to mitigate risks associated with economic downturns.</p>
<p>Avoid Panic Selling: Market volatility is common during economic slowdowns. Resist the urge to make impulsive investment decisions based on short-term fluctuations.</p>
<p>Consult a Financial Advisor: Seek professional advice to tailor your investment strategy to your risk tolerance and long-term financial goals, especially in uncertain economic times.</p>
<p>Enhance Job Security and Career Prospects:</p>
<p>Upskill and Reskill: Invest in learning new skills or obtaining certifications that can make you more valuable in your current role or open up new career opportunities.</p>
<p>Network Actively: Strengthen your professional network through industry events, online platforms, and connections with colleagues. Networking can provide support and potential job leads if needed.</p>
<p>Stay Informed: Keep abreast of trends and changes in your industry to anticipate potential impacts on your job and to position yourself advantageously.</p>
<p>Optimize Your Financial Planning:</p>
<p>Review Insurance Coverage: Ensure that you have adequate health, life, and disability insurance to protect yourself and your family against unforeseen events.</p>
<p>Plan for the Future: Revisit your long-term financial plans, including retirement savings, to ensure they remain aligned with your goals and the current economic landscape.</p>
<p>Seek Professional Advice: Consulting with a financial planner can help you navigate complex decisions and create a robust financial strategy tailored to your circumstances.</p>
<p>Stay Informed and Adaptable:</p>
<p>Monitor Economic Indicators: Keep an eye on key economic indicators such as unemployment rates, inflation, and consumer confidence to better understand the evolving economic environment.</p>
<p>Adapt to Changes: Be prepared to adjust your financial strategies as new information becomes available. Flexibility can help you respond effectively to economic shifts.</p>
<p>Taking these proactive measures can help you navigate through periods of economic slowdown with greater confidence and resilience. While economic downturns pose challenges, they also offer opportunities to strengthen your financial foundation and prepare for future growth. Remember to consult with financial professionals to tailor these strategies to your specific situation and to stay informed with reliable sources for the latest economic developments.</p>
</blockquote>
</section>
<section id="my-thoughts-1" class="level4">
<h4 class="anchored" data-anchor-id="my-thoughts-1">My thoughts</h4>
<p>The response to the first question seemed to be remarkably similar to ChatGPT’s, especially with both mentioning oil prices. Another similarity with ChatGPT is the continuous stressing of trusting verified data and news sources.</p>
<p>I did not expect the LLM to suggest paying down debts before a recession- if anything, you’d think you’d want to keep your cash handy in case you lose your job. “Reduce Debts” and “Increase Savings” seem to kind of contradict each other! Which one matters more, o1-mini? Also, not one, not two, but THREE mentions of talking to a financial planner!</p>
<p>And, just like ChatGPT, another glass half full moment: “While economic downturns pose challenges, they also offer opportunities to strengthen your financial foundation and prepare for future growth”</p>
</section>
<section id="conclusion" class="level4">
<h4 class="anchored" data-anchor-id="conclusion">Conclusion</h4>
<p>ChatGPT and o1-mini produce pretty much the same output for this task. I did not expect such an emphasis on seeking <strong>REPUTABLE</strong> data sources and speaking to financial advisors. That being said, they both did a good job of distilling complicated economic terms… assuming you already have the basic economics vocabulary down pat.</p>
<p>The funniest part of all, in my opinion, is the glass half full attitude, where both tried to highlight the opportunities for growth that economic downturns present.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/grace-kneidel\.github\.io\/comm4190_S25_Using_LLMs_Blog\/");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>